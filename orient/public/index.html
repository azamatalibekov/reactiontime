<!DOCTYPE html>
<head lang="en">
  <head>
    <meta charset="UTF-8">
    <title>orient</title>
    <link rel="stylesheet" type="text/css" href="index.css" media="screen"/>
  </head>

  <div class="navbar">
    <img src="logo%20wh.png" width="10%" height="10%">
  </div>
<body>

<link href="lol.css" rel="stylesheet" type="text/css">
<br>
<br>
<br>
<br>
<br>
<center>
  <div id="time"></div><p>sec</p>
  <br>
  <br>
  <br>
  <div id="results"></div>
</center>


<script type="text/javascript">
    let clickedTime;
    let createdTime;
    let reactionTime;
    let count = 0;
    let hp = 0;
    let Pynum = [];
    let Cppnum = [];
    let Hanum = [];
    let Fronum = [];
    let Backnum = [];
    this.state = {
        Frontend: ['http', 'singletone', 'OSI', 'полиморфизм', 'инкапсуляция', 'TCP', 'react'],
        Python: ['Django', 'Python', 'Dictionary', 'PyCharm', 'def __init__(self, city, pin):', 'object.__add__(self, other)', 'if a: pass'],
        Backend: ['server', 'p2p', 'port', 'БД', 'ORM', 'POST', 'nginx'],
        Haskell: ['Haskell', 'λ', 'has :: (Eq a) => [a] -> a -> Bool', 'takeWhile', 'zip', 'GHCi', 'Монады'],
        Cpp: ['queue', 'vector', 'set', 'map', 'Идентификаторы', 'long double', 'iostream']

    };



    maketext = () => {
        let choice1 = Math.abs(Math.round(Math.random() * this.state.Python.length) - 1);
        let choice2 = Math.abs(Math.round(Math.random() * this.state.Haskell.length) - 1);
        let choice3 = Math.abs(Math.round(Math.random() * this.state.Cpp.length) - 1);
        let choice4 = Math.abs(Math.round(Math.random() * this.state.Frontend.length) - 1);
        let choice5 = Math.abs(Math.round(Math.random() * this.state.Backend.length) - 1);
        let rand = Math.floor(Math.random() * 5);
        if (rand === 0) {
            hp = 1;
            return this.state.Python[choice1];

        }
        else if (rand === 1) {
            hp = 2;
            return this.state.Haskell[choice2];

        }
        else if (rand === 2){
            hp = 3;
            return this.state.Cpp[choice3];

        }
        else if (rand === 3)
        {
            hp = 4;
            return this.state.Frontend[choice4];
        }
        else if (rand === 4)
        {
          hp = 5;
          return this.state.Backend[choice5];
        }
    };



    makeBox = () => {
        setTimeout(function() {
            document.getElementById("results").innerHTML=maketext();
            document.getElementById("results").style.top=window.innerHeight/2;
            document.getElementById("results").style.left=window.innerWidth/2;
            document.getElementById("results").style.display="block";
            createdTime=Date.now();
        }, time);
    };

    document.addEventListener("keydown", (x) => {
        const Name = x.key;
        if (Name === 'w' || Name === 'q' || Name === 'e' || Name === 'a' || Name === 's' || Name === 'd' || Name === 'r'
            || Name === 'f' || Name === 'g' || Name === 't' || Name === 'z' || Name === 'x' || Name === 'c')
        {
            clickedTime=Date.now();
            reactionTime=(clickedTime-createdTime)/1000;
            if (hp === 1)
                Pynum.push(reactionTime);
            else if (hp === 2)
                Hanum.push(reactionTime);
            else if (hp === 3)
                Cppnum.push(reactionTime);
            else if (hp === 4)
                Fronum.push(reactionTime);
            else if (hp === 5)
                Backnum.push(reactionTime);
            count++;
            if (count === 50)
                alert("TEST IS COMPLETE - THANK YOU");

            if (count === 51) {
                count = 0;
                Pynum = [];
                Cppnum = [];
                Hanum = [];
            }
            document.getElementById("time").innerHTML=reactionTime;
            makeBox();
            document.addEventListener("keyup", ()=> {
                return null;
            }, false);
        }

    }, false);

    makeBox();
</script>
</body>
